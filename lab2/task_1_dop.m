% ?????????
N = 100;  % ????? ????????
n = 0:N-1;

% ???????? ???????
x1 = 0.9.^n .* sin(2 * pi * 8 * n / N);  % ?????? x1(n)
x2 = (1.05).^n .* cos(2 * pi * 8 * n / N);  % ?????? x2(n)

% ?????????? ???????? x1
P_x1 = (1 / N) * sum(abs(x1).^2);
P_x1_dB = 10 * log10(P_x1);  % ??????? ???????? ? ????????

% ?????????? ???????? x2
P_x2 = (1 / N) * sum(abs(x2).^2);
P_x2_dB = 10 * log10(P_x2);  % ??????? ???????? ? ????????

% ??????????? ??????????????? ??? ????????????? ?????????
k = sqrt(P_x1 / P_x2);

% ?????????? ?????? x2
x2_modified = k * x2;

% ?????????? ???????? ??????????? x2
P_x2_modified = (1 / N) * sum(abs(x2_modified).^2);
P_x2_modified_dB = 10 * log10(P_x2_modified);  % ??????? ???????? ? ????????

% ????? ?????????
fprintf('power x1: %.2f dB\n', P_x1_dB);
fprintf('power x2: %.2f dB\n', P_x2_dB);
fprintf('power of changed x2: %.2f dB\n', P_x2_modified_dB);

% ?????????? ???????? ????????
figure;

% ?????? ??????? x1
subplot(3, 1, 1);
plot(n, x1, 'b', 'LineWidth', 1.5);
title('Signal x_1(n)');
xlabel('n');
ylabel('x_1(n)');
grid on;

% ?????? ??????? x2
subplot(3, 1, 2);
plot(n, x2, 'r', 'LineWidth', 1.5);
title('Signal x_2(n)');
xlabel('n');
ylabel('x_2(n)');
grid on;

% ?????? ??????????? ??????? x2
subplot(3, 1, 3);
plot(n, x2_modified, 'g', 'LineWidth', 1.5);
title('Modified Signal x_2(n)');
xlabel('n');
ylabel('x_2''(n)');
grid on;

% ?????????? ???????? ? PNG ????
FileName = 'Task_2_dop.png';
print('-dpng', '-opengl', '-r300', FileName);  % ????????? ??????? ??? PNG ? ??????? ???????????
